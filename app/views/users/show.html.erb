 <%= render "shared/header" %>
<div class="my_page_all">
    <div class="my_page">
      <span class="name">
          <%=@user.nickname %><span>のマイページ</span>
      </span>
    </div>
    <ul class='song-lists'>
      <% @songs.each do |song| %> 
      <li class='list'>
        <%= link_to song_path(song.id) do %>
        <div class='item-img-content'>
          <%= image_tag song.image, class: "item-img" %>
        </div>
        <div class='item-info'>
          <h3 class='item-name'>
            <%= song.title %>
          </h3>
           <% end %>
          <div class='item-price'>
            <span><%= song.artist %><br><%= song.genre %></span>
          </div>
        </div>
      </li>
     <% end %>
    </ul>

    <div class="my_page">
      <span class="name">
          <%=@user.nickname %><span>のお気に入り</span>
      </span>
    </div>
  <ul class='song-lists'>
    <% if @favorites.length != 0 %>
      <% @favorites.each do |song| %>
        <li class='list'>
          <%= link_to song_path(song.id) do %>
          <div class='item-img-content'>
            <%= image_tag song.image, class: "item-img"%>
          </div>
          <div class='item-info'>
            <h3 class='item-name'>
              <%= song.title %>
            </h3>
            <% end %>
            <div class='item-price'>
              <span><%= song.artist %><br><%= song.genre %></span>
            </div>
            <% if user_signed_in? %>
              <% unless current_user.id == song.user.id %>
            <div id="favorites_buttons_<%= song.id %>">
              <%= render partial: 'favorites/favorite', locals: { song: song } %>
            </div>
            <% end %>
            <% end %>
          </div>
        </li>
      <% end %>
    <% else %>
      お気に入りはまだ登録されていません
    <% end %>
  </ul>
</div>